<!DOCTYPE html>
<html lang="en">
<head>
    <!--
        ===
        This comment should NOT be removed.

        Charisma v2.0.0

        Copyright 2012-2014 Muhammad Usman
        Licensed under the Apache License v2.0
        http://www.apache.org/licenses/LICENSE-2.0

        http://usman.it
        http://twitter.com/halalit_usman
        ===
    -->
    <meta charset="utf-8">
    <title>Free HTML5 Bootstrap Admin Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Charisma, a fully featured, responsive, HTML5, Bootstrap admin template.">
    <meta name="author" content="Muhammad Usman">

    <!-- The styles -->
    <link id="bs-css" href="css/bootstrap-cerulean.min.css" rel="stylesheet">

    <link href="css/charisma-app.css" rel="stylesheet">
    <link href='bower_components/fullcalendar/dist/fullcalendar.css' rel='stylesheet'>
    <link href='bower_components/fullcalendar/dist/fullcalendar.print.css' rel='stylesheet' media='print'>
    <link href='bower_components/chosen/chosen.min.css' rel='stylesheet'>
    <link href='bower_components/colorbox/example3/colorbox.css' rel='stylesheet'>
    <link href='bower_components/responsive-tables/responsive-tables.css' rel='stylesheet'>
    <link href='bower_components/bootstrap-tour/build/css/bootstrap-tour.min.css' rel='stylesheet'>
    <link href='css/jquery.noty.css' rel='stylesheet'>
    <link href='css/noty_theme_default.css' rel='stylesheet'>
    <link href='css/elfinder.min.css' rel='stylesheet'>
    <link href='css/elfinder.theme.css' rel='stylesheet'>
    <link href='css/jquery.iphone.toggle.css' rel='stylesheet'>
    <link href='css/uploadify.css' rel='stylesheet'>
    <link href='css/animate.min.css' rel='stylesheet'>

    <!-- jQuery -->
    <script src="bower_components/jquery/jquery.min.js"></script>

    <!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- The fav icon -->
    <link rel="shortcut icon" href="img/favicon.ico">

    <script src="editTable.js" type="text/javascript"></script>
    <script language="javascript" type="text/javascript">
  
    function addCheckUrl(){
    	addInstanceRow("table_checkurl",["url","match","timeout","timewarn"],["http://{}:80/check.html","qr/ok/","13","3"],"setObjValueByName");
    }
    
    function addAlarm(){
    	addInstanceRow("table_alarm",["alarm","level"],["$count > 0 || $error>0 || $warn > 0","3"],"setObjValueByName");
    }




    function save()
    {
        var xmlHttp = window.XMLHttpRequest ?
            new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP");
    
         var target= document.getElementById("target").value;
         var thread= document.getElementById("thread").value;
         var interval= document.getElementById("interval").value;

         var seco= document.getElementById("seco").checked;

         var globtimeout= document.getElementById("globtimeout").value;
         var globtimewarn= document.getElementById("globtimewarn").value;

         var url= document.getElementsByName("url");
         var match= document.getElementsByName("match");
         var timeout= document.getElementsByName("timeout");
         var timewarn= document.getElementsByName("timewarn");


         var alarm= document.getElementsByName("alarm");
         var level= document.getElementsByName("level");
    
          var data="target="+ target +"&thread=" + thread +"&interval="+interval +"&seco=" + seco +"&globtimeout=" + globtimeout + "&globtimewarn=" + globtimewarn;

          for( var i = 0; i< url.length; i++ )
          {
              data += "&url=" +url[i].value;
              data += "&match=" +match[i].value;
              data += "&timeout=" +timeout[i].value;
              data += "&timewarn=" +timewarn[i].value;
          }

          for( var i = 0; i< alarm.length; i++ )
          {
              data += "&alarm=" +alarm[i].value;
              data += "&level=" +level[i].value;
          }
     //   data = encodeURI( data );
     //   data = encodeURI( data );
    
    
        xmlHttp.open("post", "/tttt", true);
    
        xmlHttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    
        xmlHttp.onreadystatechange = function () {
            if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {
                alert("save:" + xmlHttp.responseText );
            }
        }
    
        xmlHttp.send(data);
    }
    </script>

</head>

<body>


<div class="ch-container">
    <div class="row">
        
    <ul class="breadcrumb">
        <li>
            <a href="#">Home</a>
        </li>
        <li>
            <a href="#">Forms</a>
        </li>
    </ul>
</div>



<div class="row">
    <div class="box col-md-12">
        <div class="box-inner">
  
            <div class="box-content">
             
                <div class="control-group">
                    <label class="control-label" for="selectError1">监控对象（target）:</label>

                    <input id="target" name="target" type="text" style="width: 40%" value="" >

	        </div>


               <div class="control-group">
                    <label class="control-label" >线程数（thread）</label>

                        <select id="thread" >
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                            <option>7</option>
                            <option>8</option>
                            <option>9</option>
                            <option selected>10</option>
                        </select>

                     &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp
                    <label class="control-label" for="selectError1">间隔（interval）</label>

                    <select id="interval">
                        <option>5</option>
                        <option>15</option>
                        <option>30</option>
                        <option selected>60</option>
                        <option>90</option>
                        <option>120</option>
                        <option>180</option>
                    </select>
                    秒
                </div>

          

                <div class="checkbox">
                    <label> <input id="seco" type="checkbox" value="">seco</label>
                </div>
 
 
            </div>
        </div>
    </div>
    <!--/span-->

</div><!--/row-->










<div class="row">
    <div class="box col-md-12">
        <div class="box-inner">
         
            <div class="box-content">
                
                <label class="control-label" for="selectError1">超时（timeout）:</label>
                <input id="globtimeout" name="globtimeout" type="text" style="width: 10%" value="" >

                <label class="control-label" for="selectError1">warnning时间（timewarn）:</label>
                <input id="globtimewarn" name="globtimewarn" type="text" style="width: 40%" value="" >
      
  

<table id="table_checkurl" width="100%" border="1" bgcolor="white" bordercolor="#cccccc" cellpadding="3">
	<thead>
   	  <tr>
          <td valign="top" bgcolor="#CCCCCC">检测对象</td>
          <td valign="top" bgcolor="#CCCCCC">匹配</td>
  
          <td valign="top" bgcolor="#CCCCCC">&nbsp;</td>
 
        </tr>


        <tr>
          <td valign="top" bgcolor="#FFFFFF" style="width: 55%" >
            <input id="url" name="url" type="text" style="width: 95%" value="http://{}:80/check.html" ></td>


          <td valign="top" bgcolor="#FFFFFF">
            匹配：<input id="match" name="match" type="text" style="width: 75%" value="qr/ok/" ><br>


            超时：<input id="timeout" name="timeout" type="text" style="width: 75%" value="" ><br>
            延时：<input id="timewarn" name="timewarn" type="text" style="width: 75%" value="" ><br>
 

          </td>
        
    
          <td valign="top" bgcolor="#FFFFFF">
          </td>

        </tr>


        <tr style="display: none">
          <td valign="top" bgcolor="#FFFFFF">
            <input id="url" name="url" type="text" style="width: 95%" value="${url}" ></td>


          <td valign="top" bgcolor="#FFFFFF">
            匹配：<input id="match" name="match" type="text" style="width: 75%" value="${match}" ><br>


            超时：<input id="timeout" name="timeout" type="text" style="width: 75%" value="${timeout}" ><br>
            延时：<input id="timewarn" name="timewarn" type="text" style="width: 75%" value="${timewarn}" ><br>

          </td>
        
    
          <td valign="top" bgcolor="#FFFFFF">
         	<input type="button" onclick="javascript:deleteThisRow(this);" name="delete" value="-" /></td>
 


        </tr>
  </thead>
</table>


<p>
  <input type="button" onclick="javascript:addCheckUrl();" name="addCheckUrl" value="+" />
 
</p><br/>


 
            </div>
        </div>
    </div>
    <!--/span-->

</div><!--/row-->







<div class="row">
    <div class="box col-md-12">
        <div class="box-inner">
         
            <div class="box-content">
                
          



<table id="table_alarm" width="100%" border="1" bgcolor="white" bordercolor="#cccccc" cellpadding="3">
	<thead>
   	  <tr>
          <td valign="top" bgcolor="#CCCCCC">匹配报警</td>
          <td valign="top" bgcolor="#CCCCCC">报警级别</td>
  
          <td valign="top" bgcolor="#CCCCCC">&nbsp;</td>
 
        </tr>


        <tr>
          <td valign="top" bgcolor="#FFFFFF" style="width: 55%" >
            <input id="alarm" name="alarm" type="text" style="width: 95%" value="$count <= 0" >
          </td>
          <td valign="top" bgcolor="#FFFFFF">
            <input id="level" name="level" type="text" style="width: 95%" value="-2" >
          </td>
        

        </tr>


        <tr style="display: none">
          <td valign="top" bgcolor="#FFFFFF">
            <input id="alarm" name="alarm" type="text" style="width: 95%" value="${name}" ></td>


          <td valign="top" bgcolor="#FFFFFF">

            <input id="level" name="level" type="text" style="width: 95%" value="${sex}" >

          </td>
        
    
          <td valign="top" bgcolor="#FFFFFF">
         	<input type="button" onclick="javascript:deleteThisRow(this);" name="delete" value="-" /></td>
 


        </tr>
  </thead>
</table>


<p>
  <input type="button" onclick="javascript:addAlarm();" name="addAlarm" value="+" />
 
</p><br/>

 
            </div>
        </div>
    </div>
    <!--/span-->

</div><!--/row-->


 
 
    <!-- content ends -->
    </div><!--/#content.col-md-0-->
</div><!--/fluid-row-->

    <!-- Ad, you can remove it -->
    <div class="row">
    
        <div class="col-md-2 col-lg-3 col-sm-12 col-xs-12 donate">
       
         
    <button onclick="save()" type="button" class="btn btn-primary">保存</button>
  
        </div>

    </div>
    <!-- Ad ends -->


    <hr>

    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">

        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">×</button>
                    <h3>Settings</h3>
                </div>
                <div class="modal-body">
                    <p>Here settings can be configured...</p>
                </div>
                <div class="modal-footer">
                    <a href="#" class="btn btn-default" data-dismiss="modal">Close</a>
                    <a href="#" class="btn btn-primary" data-dismiss="modal">Save changes</a>
                </div>
            </div>
        </div>
    </div>

 

</div><!--/.fluid-container-->

<!-- external javascript -->

<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<!-- library for cookie management -->
<script src="js/jquery.cookie.js"></script>
<!-- calender plugin -->
<script src='bower_components/moment/min/moment.min.js'></script>
<script src='bower_components/fullcalendar/dist/fullcalendar.min.js'></script>
<!-- data table plugin -->
<script src='js/jquery.dataTables.min.js'></script>

<!-- select or dropdown enhancer -->
<script src="bower_components/chosen/chosen.jquery.min.js"></script>
<!-- plugin for gallery image view -->
<script src="bower_components/colorbox/jquery.colorbox-min.js"></script>
<!-- notification plugin -->
<script src="js/jquery.noty.js"></script>
<!-- library for making tables responsive -->
<script src="bower_components/responsive-tables/responsive-tables.js"></script>
<!-- tour plugin -->
<script src="bower_components/bootstrap-tour/build/js/bootstrap-tour.min.js"></script>
<!-- star rating plugin -->
<script src="js/jquery.raty.min.js"></script>
<!-- for iOS style toggle switch -->
<script src="js/jquery.iphone.toggle.js"></script>
<!-- autogrowing textarea plugin -->
<script src="js/jquery.autogrow-textarea.js"></script>
<!-- multiple file upload plugin -->
<script src="js/jquery.uploadify-3.1.min.js"></script>
<!-- history.js for cross-browser state change on ajax -->
<script src="js/jquery.history.js"></script>
<!-- application script for Charisma demo -->
<script src="js/charisma.js"></script>


</body>
</html>

